# connection
listen-address  127.0.0.1:8118

# file locations
user-manual /usr/share/doc/privoxy-3.0.24/user-manual/
confdir /etc/privoxy
logdir /var/log/privoxy
logfile privoxy.log

# debugging
debug 1

# filters
filterfile filters/default.filter

# actions
actionsfile actions/block-ads.action
actionsfile actions/block-malware.action
actionsfile actions/block-shocksites.action
actionsfile actions/block-tracking.action
actionsfile actions/block-w10.action
actionsfile actions/paranoia.action
actionsfile actions/redirect-tor.action

# default routing rule
forward-socks5 / 127.0.0.1:9050 .  # route everything through tor

# force clearnet domains
forward .belastingdienst.nl/ .
forward .myanimelist.net/ .
forward .shura.tyil.net/ .
forward .twitch.tv/ .
forward .what.cd/ .

# exclude private ranges
forward 192.168.*.*/ .
forward 10.*.*.*/    .
forward 127.*.*.*/   .

# forward proxy-specific TLDs
forward        .i2p   127.0.0.1:4444
forward-socks5 .onion 127.0.0.1:9050 .

# fixme: check what this does and how this could be improved
toggle  1
enable-remote-toggle  0
enable-remote-http-toggle  0
enable-edit-actions 0
enforce-blocks 0
buffer-limit 4096
enable-proxy-authentication-forwarding 0
forwarded-connect-retries  0
accept-intercepted-requests 0
allow-cgi-request-crunching 0
split-large-forms 0
keep-alive-timeout 5
tolerate-pipelining 1
socket-timeout 300
